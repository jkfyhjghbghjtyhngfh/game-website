<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Five Nights at Freddy's</title>
  <link rel="stylesheet" href="../style.css">
</head>

	<script>
	   	// Detection of old browsers that do not support the canvas element
		// Falls back to a default page
	    if (!document.createElement("canvas").getContext)
	    {
			window.open("http://www.clickteam.com/html5-fallback", "_self");
		}
	</script>


  	<!-- EXTRASOURCES -->
    <!-- Loads the Javascript code...-->
    <script src="src/Runtime.js"></script>

    <script>

	// Detection of when the html file is ran locally.
	// You can remove this code for the final version
	if (window.location.protocol == "file:")
	{
		document.write('<div id="bloctxt">');
		document.write('<h1>The application cannot be run...</h1>');
		document.write('<p>HTML browsers do not allow you to launch data files directly from the file system.<br>');
		document.write('A drag & drop of the html file on a web-browser window will not work, on any machine.<br>');
		document.write('Please use the Build & Run option (it opens a local web server) to run your application,<br>')
		document.write('or upload your application folder to a remote web-server, and start it from there...</p>');
		document.write('</div>');
		throw new error("Cannot run application");
	}

  </script>
</head>

<body>
  <header>
    <h1>Five Nights at Freddy's</h1>
    <nav class="site-nav" style="margin-top:0.5rem">
      <a href="../index.html" style="margin-right:1rem">Back to Main</a>
    </nav>
  </header>

  <main>
    <div class="game-list">
      <div class="game-card">
        <img src="resources/0000.png" alt="Five Nights at Freddy's 1">
        <h3>Five Nights at Freddy's 1</h3>
        <a href="#" id="playBtn">Play</a>
      </div>
    </div>
  </main>

<div id="game" style="display: none;">
<div style="display: inline-block; -webkit-user-select: none; text-align: left;">
    <canvas id="MMFCanvas" width="1280" height="720">
    	Your browser does not support Canvas.
    </canvas>
</div>
</div>


    <script>
        // RUNTIMESTART
        // This is where the HTML5 runtime is actually started
        function windowLoaded()
        {
            // Calls the runtime
            // First parameter : name of the canvas element
            // Second parameter : path to the cch file. Images and sounds must lay beside this file
            new Runtime("MMFCanvas", "resources/FNAF1HTML5.cch");
        }
        
        document.getElementById('playBtn').addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector('main').style.display = 'none';
            document.getElementById('game').style.display = 'block';
            windowLoaded();
        });
        // RUNTIMESTARTEND
    </script>

</body>
</html>
